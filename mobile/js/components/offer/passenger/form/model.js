define(["underscore","moment","core/plugin/routing/assets/appRouterController"],function(e,t,n){var r,i;return i=t(),r=function(){function t(t,r,i){var s,o,u;return o=e.last(n.getCurrentRoute().params),s=(u=i.find({id:o}))!=null?u.formData:void 0,{birthDateMin:this.getBirthDateMin(),birthDateMax:this.getBirthDateMax(),citizenshipOptions:this.sortCountries(r),airCompanyOptions:t.airCompany,personFormData:s}}return t.prototype.sortCountries=function(t){var n,r,i,s;return s=[1,65,69,73,71,41,64],i=t.getSource(),n=e.compact(e.map(s,function(t){var n;return(n=e.where(i,{id:String(t)}))!=null?n[0]:void 0})),r=e.compact(e.reject(i,function(t){return e.contains(s,Number(t.id))})),e.union(n,[{id:"_",name:"break"}],r)},t.prototype.getBirthDateMin=function(){return i.clone().subtract(115,"years").format("YYYY-MM-DD")},t.prototype.getBirthDateMax=function(){return i.format("YYYY-MM-DD")},t}()});
