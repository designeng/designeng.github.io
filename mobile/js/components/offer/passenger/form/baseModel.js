define(["underscore","core/plugin/routing/assets/appRouterController"],function(e,t){var n;return n=function(){function n(n,r,i,s){var o,u,a,f;return a=e.last(t.getCurrentRoute().params),u=(f=i.find({id:a}))!=null?f.formData:void 0,o=n.airCompany,{citizenshipOptions:this.sortCountries(r),airCompanyOptions:o,personFormData:u,isBonusCardProgram:s}}return n.prototype.sortCountries=function(t){var n,r,i,s;return s=[1,65,69,73,71,41,64],i=t.getSource(),n=e.compact(e.map(s,function(t){var n;return(n=e.where(i,{id:String(t)}))!=null?n[0]:void 0})),r=e.compact(e.reject(i,function(t){return e.contains(s,Number(t.id))})),e.union(n,[{id:"_",name:"break"}],r)},n}()});
