var __indexOf=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};define(["underscore","when","when/sequence","when/pipeline"],function(e,t,n,r){var i;return i=function(){function t(e,t){return this.distributive=this.provideFunctions(e,this.prepareTasks(t)),this}return t.prototype.allowedReasons=["CACHED"],t.prototype.noop=function(e){return e},t.prototype.prepareTasks=function(e){var t;return t={},t.tasks=e,t},t.prototype.provideFunctions=function(t,n){var r;return r={},e.each(n,function(n,i){return r[i]=e.map(n,function(e){if(!t[e])throw new Error("No method with name '"+e+"' provided!");return t[e]},t)},t),r},t.prototype.runTasks=function(t,n){return e.isFunction(n)||(n=this.noop),r(this.distributive.tasks,t).then(function(e){return n(e)},function(e){return function(t){return __indexOf.call(e.allowedReasons,t)>=0?e.noop():console.error("PIPELINE TASKS ERROR:::",t)}}(this))},t}()});
