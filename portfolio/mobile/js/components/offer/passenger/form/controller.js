var __bind=function(e,t){return function(){return e.apply(t,arguments)}};define(["underscore","jquery","core/plugin/routing/assets/appRouterController","core/util/navigation/navigate","core/util/config/getLocalizedName","core/util/dictionary/getDictionaryData"],function(e,t,n,r,i,s){var o,u;return u=i(),o=function(){function i(){this.onBunchData=__bind(this.onBunchData,this)}return i.prototype.documentTypesList=void 0,i.prototype.setDocumentTypesList=function(e){return this.documentTypesList=e,e},i.prototype.onReady=function(){return this.presonId=e.last(n.getCurrentRoute().params),this.genderInput=t(this.passengerFormView).find("#gender"),this.bonusCardNumberInput=t(this.passengerFormView).find("[name=bonusCardNumber]"),this.getPersonsCollection=function(e){return function(){return e.personsCollection}}(this),this.shiftBackSuccess=function(e){return function(){return r(e.baseOfferHash)}}(this)},i.prototype.onDestroy=function(){},i.prototype.onBonusCardNumber=function(e){if(e.target.value.length)return this.validator.extendStrategy(this.bonusCardStrategy)},i.prototype.successHandler=function(e){var t;return t=this.target.getPersonsCollection(),t.update({id:this.target.presonId},{formData:e}),this.target.shiftBackSuccess()},i.prototype.onRadioChecked=function(e){e.target.id==="male"&&(this.genderInput.val("male"),this.genderInput.trigger("input"));if(e.target.id==="female")return this.genderInput.val("female"),this.genderInput.trigger("input")},i.prototype.onSubmit=function(){return!1},i.prototype.isRBKKdirection=function(t){var n,r,i,o;return o=["1","42","70","71"],i=["start","end"],n=function(t,n){var r,i,u,a;return u=n.location.id,a=n.location.type,i=s(u,a,t.dictionary),r=s(i.city.id,i.city.type,t.dictionary),e.indexOf(o,r.country.id)===-1?!1:!0},r=e.reduce(t.flight.segments,function(r,s){var o;return r===!1?r:(o=e.reduce(s.legs,function(r,s){var o;return r===!1?r:(o=e.reduce(i,function(e,r){return e===!1?e:n(t,s[r])},!0),r&&o)},!0),r&&o)},!0),{name:"direction",value:r}},i.prototype.onBunchData=function(t){var n,r;return n=this.documentTypes.getSource(),r=e.reduce(t,function(t){return function(n,r){var i;return i=t.documentTypesFilters[r.name](r.value),e.filter(n,i)}}(this),n),console.debug("resultTypes",r),r=e.map(r,function(e){return e[u]}),this.setDocumentTypesList(r),this.validator.extendStrategy({document:{hint:r.join(" ")}}),r},i}()});
