var __bind=function(e,t){return function(){return e.apply(t,arguments)}};define(["underscore","moment"],function(e,t){var n,r,i;return r=t(),i=t().unix(),n=function(){function n(){this.lastLegEndIsBeforeExpirationDateRule=__bind(this.lastLegEndIsBeforeExpirationDateRule,this),this.documentExpirationDateRule=__bind(this.documentExpirationDateRule,this),this.documentTypeRule=__bind(this.documentTypeRule,this)}return n.prototype.documentTypesList=void 0,n.prototype.passengerCategory=void 0,n.prototype.getFirstFlightDateTime=function(){return this.response.flight.segments[0].start.dateTime},n.prototype.getLastLegEndDateTime=function(){var t;return t=e.last(e.last(this.response.flight.segments).legs).end.dateTime,t},n.prototype.doumentTypesRules={RUSSIAN_PASSPORT:function(e){var t;return t=/\d{4}\s\d{6}/,!0},RUSSIAN_INTERNATIONAL_PASSPORT:function(e){var t;return t=/^[A-Z0-9<]{9}[0-9]{1}[A-Z]{3}[0-9]{7}[A-Z]{1}[0-9]{7}[A-Z0-9<]{14}[0-9]{2}$/,!0},RUSSIAN_BIRTH_CERTIFICATE:function(e){return!0},NATIONAL_PASSPORT:function(e){return!0}},n.prototype.documentTypeRule=function(e){return!0},n.prototype.documentExpirationDateRule=function(e){return!0},n.prototype.lastLegEndIsBeforeExpirationDateRule=function(e){return t(this.getLastLegEndDateTime()).isBefore(t(e))},n}(),n});
